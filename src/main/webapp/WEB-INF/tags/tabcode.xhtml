<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:showcase="http://primefaces.org/ui/showcase">

    <c:set var="uri" value="#{uri}" />
    <c:set var="flatten" value="#{empty flatten ? false : flatten}" />
    <c:set var="content" value="#{flatten ? showcase:getFlatFilesContent(uri) : showcase:getFileContent(uri, false)}" />

    <c:if test="#{flatten}">
        <c:forEach var="entry" items="${content}">
            <p:tab title="${entry.title}" >
                 <pre name="code" class="brush:${entry.type}">
                     ${entry.value}
                 </pre>
            </p:tab>
        </c:forEach>
    </c:if>
    
    <c:if test="#{not flatten}">
        <p:tab title="#{content.title}" >
             <pre name="code" class="brush:#{content.type}">
                 ${content.value}
             </pre>
        </p:tab>
    </c:if>
</ui:composition>